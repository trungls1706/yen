# ğŸª£ Amazon S3 â€“ Tá»•ng Quan & Use Cases

## ğŸ“Œ Use-case thÆ°á»ng gáº·p

| Use-case                  | Má»¥c Ä‘Ã­ch |
|----------------------------|----------|
| LÆ°u trá»¯ file tÄ©nh (áº£nh, video, tÃ i liá»‡u) | Web/App/Data lake |
| Static Website Hosting     | Host HTML/CSS/JS |
| Backup & Restore           | Copy dá»¯ liá»‡u lÃªn S3 |
| Data Lake cho Big Data     | Káº¿t há»£p Athena, Redshift, EMR |
| PhÃ¢n phá»‘i toÃ n cáº§u         | Káº¿t há»£p CloudFront (CDN) |

---

## ğŸ” S3 Security

| ThÃ nh pháº§n     | Má»¥c Ä‘Ã­ch |
|----------------|----------|
| IAM policies   | Cáº¥p quyá»n cho user/role truy cáº­p bucket hoáº·c object |
| Bucket Policy  | GÃ¡n trá»±c tiáº¿p cho bucket, quáº£n lÃ½ truy cáº­p ngÆ°á»i khÃ¡c |
| ACL            | Má»©c truy cáº­p legacy â€“ tá»«ng object/bucket |
| Block Public Access | Báº­t máº·c Ä‘á»‹nh Ä‘á»ƒ trÃ¡nh public nháº§m dá»¯ liá»‡u |
| Encryption     | - SSE-S3 (AWS quáº£n key) <br> - SSE-KMS (dÃ¹ng KMS) <br> - SSE-C (khÃ¡ch tá»± gá»­i key) |

---

## ğŸ•’ Versioning
- Giá»¯ má»i phiÃªn báº£n cá»§a object (ká»ƒ cáº£ object bá»‹ xÃ³a â†’ hiá»‡n thÃ nh delete marker).  
- KhÃ´ng báº­t máº·c Ä‘á»‹nh â€“ **Enable = báº­t vÄ©nh viá»…n, khÃ´ng undo Ä‘Æ°á»£c**.  
- Support Ä‘á»ƒ:
  - KhÃ´i phá»¥c dá»¯ liá»‡u bá»‹ ghi Ä‘Ã¨  
  - TÃ­ch há»£p vá»›i Lifecycle Rules Ä‘á»ƒ chuyá»ƒn phiÃªn báº£n cÅ© sang Glacier  

---

## ğŸ” Replication

| Loáº¡i | MÃ´ táº£ |
|------|-------|
| **CRR (Cross-Region Replication)** | Replicate dá»¯ liá»‡u tá»« bucket A sang bucket á»Ÿ region khÃ¡c â†’ DR, latency, comply |
| **SRR (Same-Region Replication)** | Backup trong cÃ¹ng region khÃ¡c bucket |

- Äiá»u kiá»‡n: Bucket báº­t **versioning**, IAM Role replication.  
- Replication **khÃ´ng Ã¡p dá»¥ng ngÆ°á»£c láº¡i phiÃªn báº£n cÅ©**.  

---

## ğŸ—ƒï¸ S3 Storage Classes

| Class            | Use-Case | Äáº·c Ä‘iá»ƒm chÃ­nh |
|------------------|----------|----------------|
| Standard         | File truy cáº­p thÆ°á»ng xuyÃªn | Äá»™ bá»n 99.999999999% |
| Standard-IA      | Ãt truy cáº­p nhÆ°ng cáº§n truy xuáº¥t nhanh | PhÃ­ storage tháº¥p, phÃ­ retrieval |
| One Zone-IA      | NhÆ° IA nhÆ°ng chá»‰ trong 1 AZ | Nguy cÆ¡ máº¥t dá»¯ liá»‡u náº¿u AZ máº¥t |
| Glacier Flexible | LÆ°u trá»¯ lÃ¢u dÃ i >90 ngÃ y | Truy xuáº¥t 1 phÃºt â€“ 12h |
| Glacier Instant  | Archive nhÆ°ng truy xuáº¥t dÆ°á»›i vÃ i ms | GiÃ¡ ráº», thay S3 Standard náº¿u Ã­t xÃ i |
| Glacier Deep Archive | LÆ°u trá»¯ lÃ¢u dÃ i >180 ngÃ y | Ráº» nháº¥t, truy xuáº¥t hÃ ng giá» |
| Intelligent-Tiering | AWS tá»± chuyá»ƒn giá»¯a tiers dá»±a usage | Tá»‘i Æ°u chi phÃ­ tá»± Ä‘á»™ng |

---

## âš™ï¸ Lifecycle Rules & Object Management
- Lifecycle Rule giÃºp tá»± Ä‘á»™ng chuyá»ƒn lá»›p lÆ°u trá»¯ hoáº·c xoÃ¡ object.  
VÃ­ dá»¥:
- Sau 30 ngÃ y â†’ chuyá»ƒn sang Standard-IA  
- Sau 90 ngÃ y â†’ chuyá»ƒn sang Glacier  
- Sau 365 ngÃ y â†’ Delete  

- Káº¿t há»£p vá»›i **Versioning**: cÃ³ thá»ƒ Ã¡p rules khÃ¡c nhau cho Current version vÃ  Previous versions.  

---

## âœ… TÃ³m táº¯t ghi nhá»› khi thi

| Há»i                                   | Chá»n |
|---------------------------------------|-------|
| Muá»‘n public read file                 | Bucket Policy hoáº·c ACL |
| Muá»‘n trÃ¡nh public nháº§m                | Block Public Access |
| Báº­t DR sang region khÃ¡c               | CRR |
| Muá»‘n giá»¯ láº¡i object cÅ©/sá»­a lá»—i ghi Ä‘Ã¨ | Versioning |
| Tá»± Ä‘á»™ng archive Ä‘á»ƒ giáº£m chi phÃ­       | Lifecycle Rule + Intelligent-Tiering hoáº·c chuyá»ƒn Glacier |
| Encryption cao cáº¥p dÃ¹ng KMS           | SSE-KMS |

---

# ğŸ”¥ CÃ¢u há»i luyá»‡n thi

**CÃ¢u 1:**  
Báº¡n muá»‘n Ä‘áº£m báº£o S3 Bucket khÃ´ng bá»‹ public nháº§m, nÃªn báº­t tÃ­nh nÄƒng nÃ o?  
âœ… ÄÃ¡p Ã¡n: **Block Public Access**  

---

**CÃ¢u 2:**  
TÃ­nh nÄƒng nÃ o giÃºp S3 lÆ°u nhiá»u phiÃªn báº£n cá»§a object, ká»ƒ cáº£ khi bá»‹ overwrite hoáº·c delete?  
âœ… ÄÃ¡p Ã¡n: **Versioning**  

---

**CÃ¢u 3:**  
Báº¡n muá»‘n replicate dá»¯ liá»‡u tá»« bucket táº¡i Singapore sang bucket táº¡i Tokyo Ä‘á»ƒ DR â†’ dÃ¹ng?  
âœ… ÄÃ¡p Ã¡n: **Cross-Region Replication (CRR)**  

---

**CÃ¢u 4:**  
Storage class nÃ o ráº» nháº¥t, phÃ¹ há»£p lÆ°u trá»¯ >180 ngÃ y vÃ  truy xuáº¥t hÃ ng tiáº¿ng Ä‘á»“ng há»“?  
âœ… ÄÃ¡p Ã¡n: **Glacier Deep Archive**  

---

**CÃ¢u 5:**  
Báº¡n muá»‘n file â€œÃ­t truy cáº­pâ€ váº«n pháº£i náº±m trong nhiá»u AZ Ä‘á»ƒ an toÃ n, nÃªn dÃ¹ng class?  
âœ… ÄÃ¡p Ã¡n: **S3 Standard-IA**  

---

**CÃ¢u 6:**  
Báº¡n cáº§n tá»± Ä‘á»™ng chuyá»ƒn object sang Glacier sau 90 ngÃ y â†’ nÃªn dÃ¹ng tÃ­nh nÄƒng gÃ¬?  
âœ… ÄÃ¡p Ã¡n: **Lifecycle Rule**  

---

**CÃ¢u 7:**  
Muá»‘n á»©ng dá»¥ng tá»± Ä‘á»™ng chá»n storage class tá»‘i Æ°u dá»±a vÃ o usage cá»§a object â†’ dÃ¹ng loáº¡i?  
âœ… ÄÃ¡p Ã¡n: **Intelligent-Tiering**  

---

**CÃ¢u 8:**  
Báº¡n muá»‘n encrypt object S3 báº±ng AWS KMS keys, nÃªn chá»n cháº¿ Ä‘á»™ nÃ o?  
âœ… ÄÃ¡p Ã¡n: **SSE-KMS**  

---

**CÃ¢u 9:**  
ChÃ­nh sÃ¡ch nÃ o nÃªn dÃ¹ng Ä‘á»ƒ public má»™t sá»‘ object cá»¥ thá»ƒ, khÃ´ng pháº£i cáº£ bucket?  
âœ… ÄÃ¡p Ã¡n: **ACL (Access Control List)**  

---

**CÃ¢u 10:**  
TÃ­nh nÄƒng nÃ o dÆ°á»›i Ä‘Ã¢y KHÃ”NG há»— trá»£ replication láº¡i cÃ¡c phiÃªn báº£n trÆ°á»›c Ä‘Ã³ mÃ  chá»‰ Ã¡p dá»¥ng tá»« khi báº­t?  
âœ… ÄÃ¡p Ã¡n: **Replication**  

---

# ğŸ”¥ CÃ¢u há»i nÃ¢ng cao

**CÃ¢u 1:**  
Báº¡n muá»‘n cung cáº¥p Ä‘Æ°á»ng link táº¡m thá»i cÃ³ thá»i háº¡n cho user táº£i file tá»« S3 (khÃ´ng public bucket) â†’ dÃ¹ng gÃ¬?  
âœ… ÄÃ¡p Ã¡n: **Pre-Signed URL**  

---

**CÃ¢u 2:**  
Báº¡n muá»‘n tÄƒng tá»‘c Ä‘á»™ upload/download file S3 cho ngÆ°á»i dÃ¹ng toÃ n cáº§u, nÃªn báº­t tÃ­nh nÄƒng gÃ¬?  
âœ… ÄÃ¡p Ã¡n: **S3 Transfer Acceleration**  

---

**CÃ¢u 3:**  
TÃ­nh nÄƒng nÃ o buá»™c object khÃ´ng thá»ƒ bá»‹ xoÃ¡ hoáº·c chá»‰nh sá»­a trong thá»i gian lock (theo tuÃ¢n thá»§ phÃ¡p lÃ½)?  
âœ… ÄÃ¡p Ã¡n: **S3 Object Lock (WORM)**  

---

**CÃ¢u 4:**  
Báº¡n muá»‘n táº¡o endpoint cá»‘ Ä‘á»‹nh trong VPC Ä‘á»ƒ truy cáº­p S3 mÃ  khÃ´ng Ä‘i Internet Gateway?  
âœ… ÄÃ¡p Ã¡n: **VPC Gateway Endpoint**  

---

**CÃ¢u 5:**  
Chá»©c nÄƒng MFA Delete trong S3 dÃ¹ng Ä‘á»ƒ lÃ m gÃ¬?  
âœ… ÄÃ¡p Ã¡n: **Báº¯t buá»™c nháº­p mÃ£ MFA khi xÃ³a version / táº¯t versioning**  

---

**CÃ¢u 6:**  
S3 Event Notification KHÃ”NG há»— trá»£ gá»­i thÃ´ng bÃ¡o Ä‘áº¿n dá»‹ch vá»¥ nÃ o sau Ä‘Ã¢y?  
- A. Lambda  
- B. SNS  
- C. SQS  
- âœ… D. CloudWatch Logs  

---

**CÃ¢u 7:**  
Báº¡n muá»‘n táº¡o chÃ­nh sÃ¡ch giá»›i háº¡n IAM User chá»‰ upload file dÆ°á»›i folder `/user1/` trong bucket â†’ dÃ¹ng?  
âœ… ÄÃ¡p Ã¡n: **IAM Policy vá»›i condition `prefix`**  

---

**CÃ¢u 8:**  
Báº¡n muá»‘n dÃ¹ng má»™t tÃªn DNS tuá»³ chá»n nhÆ° `files.example.com` trá» tá»›i S3 website hosting â†’ sá»­ dá»¥ng record nÃ o?  
âœ… ÄÃ¡p Ã¡n: **Route53 Alias record tá»›i S3 static website endpoint**  

---

**CÃ¢u 9:**  
TÃ­nh nÄƒng S3 Access Point giÃºp lÃ m gÃ¬?  
âœ… ÄÃ¡p Ã¡n: **Táº¡o nhiá»u endpoint khÃ¡c nhau vá»›i policy riÃªng cho cÃ¹ng 1 bucket**  

---

**CÃ¢u 10:**  
S3 Object Lock cÃ³ hai cháº¿ Ä‘á»™ â€œCompliance modeâ€ vÃ  â€œGovernance modeâ€. Cháº¿ Ä‘á»™ nÃ o nghiÃªm ngáº·t hÆ¡n, khÃ´ng account nÃ o (ká»ƒ cáº£ root) Ä‘Æ°á»£c xoÃ¡ trÆ°á»›c háº¡n?  
âœ… ÄÃ¡p Ã¡n: **Compliance mode**  
